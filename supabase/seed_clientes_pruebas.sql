-- ============================================
-- SGR CBC - Seed Data CLIENTES FASE PRUEBAS
-- ============================================

-- ============================================
-- 1. EQUIPOS
-- ============================================
INSERT INTO teams (team_id, nombre, activo) VALUES
  ('e1111111-1111-1111-1111-111111111111', 'Isis', true),
  ('e2222222-2222-2222-2222-222222222222', 'Noe', true),
  ('e3333333-3333-3333-3333-333333333333', 'Vianey', true),
  ('e4444444-4444-4444-4444-444444444444', 'Bajío', true)
ON CONFLICT (team_id) DO UPDATE SET nombre = EXCLUDED.nombre;

-- ============================================
-- 2. CLIENTES
-- ============================================
INSERT INTO cliente (cliente_id, nombre_comercial, razon_social_principal, segmento, estado) VALUES
  ('c0000001-0000-0000-0000-000000000001', 'CHRISTIAN BOCCALETTI', 'CHRISTIAN BOCCALETTI', 'MEDIANA', 'ACTIVO'),
  ('c0000001-0000-0000-0000-000000000002', 'OMAR ANTONIO GARCIA MATA', 'OMAR ANTONIO GARCIA MATA', 'MEDIANA', 'ACTIVO'),
  ('c0000001-0000-0000-0000-000000000003', 'ANA LILIA LUNA GARCIA', 'ANA LILIA LUNA GARCIA', 'MEDIANA', 'ACTIVO'),
  ('c0000001-0000-0000-0000-000000000004', 'ANGEL CARRASCO QUIROZ', 'ANGEL CARRASCO QUIROZ', 'MEDIANA', 'ACTIVO'),
  ('c0000001-0000-0000-0000-000000000005', 'HERON FERNANDEZ LUENGAS', 'HERON FERNANDEZ LUENGAS', 'MEDIANA', 'ACTIVO'),
  ('c0000001-0000-0000-0000-000000000006', 'ALICIA JUDITH LUCAS HERNANDEZ', 'ALICIA JUDITH LUCAS HERNANDEZ', 'MEDIANA', 'ACTIVO'),
  ('c0000001-0000-0000-0000-000000000007', 'BENJAMIN LOPEZ ELLITSGAARD-RASMUSSEN', 'BENJAMIN LOPEZ ELLITSGAARD-RASMUSSEN', 'MEDIANA', 'ACTIVO'),
  ('c0000001-0000-0000-0000-000000000008', 'EL CONVENTO DMC', 'EL CONVENTO DMC S.A. DE C.V.', 'MEDIANA', 'ACTIVO'),
  ('c0000001-0000-0000-0000-000000000009', 'SANDOFARMING', 'SANDOFARMING SPR DE RL DE CV', 'GRANDE', 'ACTIVO'),
  ('c0000001-0000-0000-0000-000000000010', 'JANIM', 'JANIM S.A.', 'GRANDE', 'ACTIVO'),
  ('c0000001-0000-0000-0000-000000000011', 'EXPORTADORA SUN CREST', 'EXPORTADORA SUN CREST S.A. DE C.V.', 'MEDIANA', 'ACTIVO'),
  ('c0000001-0000-0000-0000-000000000012', 'MONSERRAT GUERRERO QUIJADA', 'MONSERRAT GUERRERO QUIJADA', 'PEQUEÑA', 'ACTIVO')
ON CONFLICT (cliente_id) DO UPDATE SET nombre_comercial = EXCLUDED.nombre_comercial;

-- ============================================
-- 3. CONTRIBUYENTES (RFCs)
-- ============================================
INSERT INTO contribuyente (contribuyente_id, rfc, tipo_persona, razon_social, team_id, activo) VALUES
  ('a0000001-0000-0000-0000-000000000001', 'BOCR7509085Q9', 'PF', 'CHRISTIAN BOCCALETTI', 'e1111111-1111-1111-1111-111111111111', true),
  ('a0000001-0000-0000-0000-000000000002', 'GAMO980913DDA', 'PF', 'OMAR ANTONIO GARCIA MATA', 'e1111111-1111-1111-1111-111111111111', true),
  ('a0000001-0000-0000-0000-000000000003', 'LUGA750224HC7', 'PF', 'ANA LILIA LUNA GARCIA', 'e1111111-1111-1111-1111-111111111111', true),
  ('a0000001-0000-0000-0000-000000000004', 'CAQA4505313V9', 'PF', 'ANGEL CARRASCO QUIROZ', 'e2222222-2222-2222-2222-222222222222', true),
  ('a0000001-0000-0000-0000-000000000005', 'SME741216FV0', 'PM', 'HERON FERNANDEZ LUENGAS', 'e2222222-2222-2222-2222-222222222222', true),
  ('a0000001-0000-0000-0000-000000000006', 'LUHA7102068I1', 'PF', 'ALICIA JUDITH LUCAS HERNANDEZ', 'e2222222-2222-2222-2222-222222222222', true),
  ('a0000001-0000-0000-0000-000000000007', 'LOEB940916PRA', 'PF', 'BENJAMIN LOPEZ ELLITSGAARD-RASMUSSEN', 'e3333333-3333-3333-3333-333333333333', true),
  ('a0000001-0000-0000-0000-000000000008', 'CDM22011385A', 'PM', 'EL CONVENTO DMC S.A. DE C.V.', 'e3333333-3333-3333-3333-333333333333', true),
  ('a0000001-0000-0000-0000-000000000009', 'SAN2406243J3', 'PM', 'SANDOFARMING SPR DE RL DE CV', 'e3333333-3333-3333-3333-333333333333', true),
  ('a0000001-0000-0000-0000-000000000010', 'JAN0508159J5', 'PM', 'JANIM S.A.', 'e4444444-4444-4444-4444-444444444444', true),
  ('a0000001-0000-0000-0000-000000000011', 'ESC1705024Z1', 'PM', 'EXPORTADORA SUN CREST S.A. DE C.V.', 'e4444444-4444-4444-4444-444444444444', true),
  ('a0000001-0000-0000-0000-000000000012', 'GUQM900804CT4', 'PF', 'MONSERRAT GUERRERO QUIJADA', 'e4444444-4444-4444-4444-444444444444', true)
ON CONFLICT (contribuyente_id) DO UPDATE SET team_id = EXCLUDED.team_id;

-- ============================================
-- 4. CLIENTE ↔ CONTRIBUYENTE
-- ============================================
INSERT INTO cliente_contribuyente (cliente_id, contribuyente_id, activo) VALUES
  ('c0000001-0000-0000-0000-000000000001', 'a0000001-0000-0000-0000-000000000001', true),
  ('c0000001-0000-0000-0000-000000000002', 'a0000001-0000-0000-0000-000000000002', true),
  ('c0000001-0000-0000-0000-000000000003', 'a0000001-0000-0000-0000-000000000003', true),
  ('c0000001-0000-0000-0000-000000000004', 'a0000001-0000-0000-0000-000000000004', true),
  ('c0000001-0000-0000-0000-000000000005', 'a0000001-0000-0000-0000-000000000005', true),
  ('c0000001-0000-0000-0000-000000000006', 'a0000001-0000-0000-0000-000000000006', true),
  ('c0000001-0000-0000-0000-000000000007', 'a0000001-0000-0000-0000-000000000007', true),
  ('c0000001-0000-0000-0000-000000000008', 'a0000001-0000-0000-0000-000000000008', true),
  ('c0000001-0000-0000-0000-000000000009', 'a0000001-0000-0000-0000-000000000009', true),
  ('c0000001-0000-0000-0000-000000000010', 'a0000001-0000-0000-0000-000000000010', true),
  ('c0000001-0000-0000-0000-000000000011', 'a0000001-0000-0000-0000-000000000011', true),
  ('c0000001-0000-0000-0000-000000000012', 'a0000001-0000-0000-0000-000000000012', true)
ON CONFLICT DO NOTHING;

-- ============================================
-- 5. CONTRIBUYENTE ↔ RÉGIMEN
-- ============================================
INSERT INTO contribuyente_regimen (contribuyente_id, c_regimen, activo) VALUES
  -- Cliente 1: CHRISTIAN BOCCALETTI (ACT EMPRESARIAL = 612)
  ('a0000001-0000-0000-0000-000000000001', '612', true),
  -- Cliente 2: OMAR ANTONIO GARCIA MATA (ACT EMPRESARIAL = 612)
  ('a0000001-0000-0000-0000-000000000002', '612', true),
  -- Cliente 3: ANA LILIA LUNA GARCIA (ACT EMPRESARIAL = 612)
  ('a0000001-0000-0000-0000-000000000003', '612', true),
  -- Cliente 4: ANGEL CARRASCO QUIROZ (ACT EMPRESARIAL = 612)
  ('a0000001-0000-0000-0000-000000000004', '612', true),
  -- Cliente 5: HERON FERNANDEZ LUENGAS (REG GRAL PM = 601)
  ('a0000001-0000-0000-0000-000000000005', '601', true),
  -- Cliente 6: ALICIA JUDITH LUCAS HERNANDEZ (ACT EMPRESARIAL = 612)
  ('a0000001-0000-0000-0000-000000000006', '612', true),
  -- Cliente 7: BENJAMIN LOPEZ (ACT EMPRESARIAL + PLATAFORMAS = 612 y 625)
  ('a0000001-0000-0000-0000-000000000007', '612', true),
  ('a0000001-0000-0000-0000-000000000007', '625', true),
  -- Cliente 8: EL CONVENTO DMC (RESICO PM = 626-PM)
  ('a0000001-0000-0000-0000-000000000008', '626-PM', true),
  -- Cliente 9: SANDOFARMING (ACT AGRICOLAS - usamos 601 por ahora)
  ('a0000001-0000-0000-0000-000000000009', '601', true),
  -- Cliente 10: JANIM (REG MORAL PM = 601)
  ('a0000001-0000-0000-0000-000000000010', '601', true),
  -- Cliente 11: EXPORTADORA SUN CREST (REG GRAL PM = 601)
  ('a0000001-0000-0000-0000-000000000011', '601', true),
  -- Cliente 12: MONSERRAT GUERRERO (SOCIOS Y ACCIONISTAS = 612)
  ('a0000001-0000-0000-0000-000000000012', '612', true)
ON CONFLICT DO NOTHING;

-- ============================================
-- 6. SERVICIOS BASE
-- ============================================
INSERT INTO servicio (servicio_id, nombre, descripcion, activo) VALUES
  ('b0000001-0000-0000-0000-000000000001', 'Paquete Fiscal Completo', 'IVA, ISR, DIOT, Contabilidad', true),
  ('b0000001-0000-0000-0000-000000000002', 'Nóminas', 'Proceso de nómina', true),
  ('b0000001-0000-0000-0000-000000000003', 'IMSS', 'Gestión IMSS', true),
  ('b0000001-0000-0000-0000-000000000004', 'Facturación', 'Emisión CFDI', true)
ON CONFLICT (servicio_id) DO UPDATE SET nombre = EXCLUDED.nombre;

-- ============================================
-- 7. CLIENTE ↔ SERVICIO (con talla general)
-- ============================================
INSERT INTO cliente_servicio (cliente_id, servicio_id, talla_id, activo) VALUES
  -- Cliente 1: CHRISTIAN BOCCALETTI - XG
  ('c0000001-0000-0000-0000-000000000001', 'b0000001-0000-0000-0000-000000000001', 'EXTRA_GRANDE', true),
  ('c0000001-0000-0000-0000-000000000001', 'b0000001-0000-0000-0000-000000000002', 'EXTRA_GRANDE', true),
  ('c0000001-0000-0000-0000-000000000001', 'b0000001-0000-0000-0000-000000000003', 'EXTRA_GRANDE', true),
  -- Cliente 2: OMAR - mixto
  ('c0000001-0000-0000-0000-000000000002', 'b0000001-0000-0000-0000-000000000001', 'EXTRA_GRANDE', true),
  ('c0000001-0000-0000-0000-000000000002', 'b0000001-0000-0000-0000-000000000002', 'CHICA', true),
  ('c0000001-0000-0000-0000-000000000002', 'b0000001-0000-0000-0000-000000000003', 'CHICA', true),
  -- Cliente 3: ANA LILIA - mixto
  ('c0000001-0000-0000-0000-000000000003', 'b0000001-0000-0000-0000-000000000001', 'MEDIANA', true),
  ('c0000001-0000-0000-0000-000000000003', 'b0000001-0000-0000-0000-000000000002', 'EXTRA_GRANDE', true),
  ('c0000001-0000-0000-0000-000000000003', 'b0000001-0000-0000-0000-000000000003', 'EXTRA_GRANDE', true),
  -- Cliente 4: ANGEL - G/M
  ('c0000001-0000-0000-0000-000000000004', 'b0000001-0000-0000-0000-000000000001', 'GRANDE', true),
  ('c0000001-0000-0000-0000-000000000004', 'b0000001-0000-0000-0000-000000000002', 'MEDIANA', true),
  ('c0000001-0000-0000-0000-000000000004', 'b0000001-0000-0000-0000-000000000003', 'MEDIANA', true),
  -- Cliente 5: HERON - G/M
  ('c0000001-0000-0000-0000-000000000005', 'b0000001-0000-0000-0000-000000000001', 'GRANDE', true),
  ('c0000001-0000-0000-0000-000000000005', 'b0000001-0000-0000-0000-000000000002', 'MEDIANA', true),
  ('c0000001-0000-0000-0000-000000000005', 'b0000001-0000-0000-0000-000000000003', 'MEDIANA', true),
  -- Cliente 6: ALICIA - G/M
  ('c0000001-0000-0000-0000-000000000006', 'b0000001-0000-0000-0000-000000000001', 'GRANDE', true),
  ('c0000001-0000-0000-0000-000000000006', 'b0000001-0000-0000-0000-000000000002', 'MEDIANA', true),
  ('c0000001-0000-0000-0000-000000000006', 'b0000001-0000-0000-0000-000000000003', 'MEDIANA', true),
  -- Cliente 7: BENJAMIN - CH/XS
  ('c0000001-0000-0000-0000-000000000007', 'b0000001-0000-0000-0000-000000000001', 'CHICA', true),
  ('c0000001-0000-0000-0000-000000000007', 'b0000001-0000-0000-0000-000000000002', 'EXTRA_CHICA', true),
  ('c0000001-0000-0000-0000-000000000007', 'b0000001-0000-0000-0000-000000000003', 'CHICA', true),
  -- Cliente 8: EL CONVENTO - CH/MED
  ('c0000001-0000-0000-0000-000000000008', 'b0000001-0000-0000-0000-000000000001', 'CHICA', true),
  ('c0000001-0000-0000-0000-000000000008', 'b0000001-0000-0000-0000-000000000002', 'EXTRA_CHICA', true),
  ('c0000001-0000-0000-0000-000000000008', 'b0000001-0000-0000-0000-000000000003', 'CHICA', true),
  -- Cliente 9: SANDOFARMING - MED/GD
  ('c0000001-0000-0000-0000-000000000009', 'b0000001-0000-0000-0000-000000000001', 'MEDIANA', true),
  ('c0000001-0000-0000-0000-000000000009', 'b0000001-0000-0000-0000-000000000002', 'EXTRA_CHICA', true),
  ('c0000001-0000-0000-0000-000000000009', 'b0000001-0000-0000-0000-000000000003', 'GRANDE', true),
  -- Cliente 10: JANIM - G/M
  ('c0000001-0000-0000-0000-000000000010', 'b0000001-0000-0000-0000-000000000001', 'GRANDE', true),
  ('c0000001-0000-0000-0000-000000000010', 'b0000001-0000-0000-0000-000000000002', 'MEDIANA', true),
  ('c0000001-0000-0000-0000-000000000010', 'b0000001-0000-0000-0000-000000000003', 'GRANDE', true),
  -- Cliente 11: EXPORTADORA - M
  ('c0000001-0000-0000-0000-000000000011', 'b0000001-0000-0000-0000-000000000001', 'MEDIANA', true),
  ('c0000001-0000-0000-0000-000000000011', 'b0000001-0000-0000-0000-000000000002', 'MEDIANA', true),
  ('c0000001-0000-0000-0000-000000000011', 'b0000001-0000-0000-0000-000000000003', 'MEDIANA', true),
  -- Cliente 12: MONSERRAT - CH/M
  ('c0000001-0000-0000-0000-000000000012', 'b0000001-0000-0000-0000-000000000001', 'CHICA', true),
  ('c0000001-0000-0000-0000-000000000012', 'b0000001-0000-0000-0000-000000000002', 'CHICA', true),
  ('c0000001-0000-0000-0000-000000000012', 'b0000001-0000-0000-0000-000000000003', 'MEDIANA', true)
ON CONFLICT DO NOTHING;

-- ============================================
-- VERIFICACIÓN
-- ============================================
SELECT 'CLIENTES:' as info, COUNT(*) as total FROM cliente;
SELECT 'CONTRIBUYENTES:' as info, COUNT(*) as total FROM contribuyente;
SELECT 'EQUIPOS:' as info, t.nombre, COUNT(c.contribuyente_id) as rfcs
FROM teams t
LEFT JOIN contribuyente c ON c.team_id = t.team_id
GROUP BY t.nombre;
